# 设计规范文件
## 1  PA-octave设计规范
### 1.1  工程布局
| 一级目录 | 二级目录 | 三级目录 | 说明 | 
| --- | --- | --- | --- |
| 工程名xxx_demo | | | 工程所处的设计阶段 | 
| | xxx.srcs | | octave源文件目录 | 
| | xxx.datas | | 测试优化所记录的数据 | 
| | xxx.rules | | 设计原理及实现方法的记录 | 
| | xxx.sims | | modelism仿真文件所处位置 | 

### 1.2  主要语言规范-octave 
```matlab
##################################################################################
## Company: fpgaPublish
## Engineer: f
## 
## Create Date: 2022/12/30 14:44:08
## Design Name: imag_size
## Module Name: 
## Project Name: 
## Target Devices: 
## Tool Versions: octave 
## Description: 
## 
## Dependencies: 
##  
## Revision: 
## Revision 0.01 - File Created 
## Additional Comments:
## 
##################################################################################

# ================================================================================
# pre-function to init env
clear(); 
 
# ================================================================================
# data calculate and solve
# --------------------------------------------------------------------------------
# note minutia


# ================================================================================
# result display

# ================================================================================
# assert if get right 

```
---

## 2  PC-Qt设计规范
### 2.1  工程布局
| 一级目录 | 二级目录 | 三级目录 | 说明 | 
| --- | --- | --- | --- |
| 工程名xxx_demo | | | 工程所处的设计阶段 | 
| | xxx | | QT工程所在目录 | 
| | | debug | 调试程序
| | | release | 发布程序
| | | software | 第三方软件
| | | src | 除主界面外所有的源代码 | 
| | xxx.datas | | 测试优化所记录的数据 | 
| | xxx.rules | | 设计原理及实现方法的记录 | 
| | xxx.execs | | 设计可执行文件 | 

### 2.2  主要语言规范-CPP
* cpp文件
```cpp 
//////////////////////////////////////////////////////////////////////////////////
// Company: Fpga Publish
// Engineer: F
//
// Create Date: 2023 12:05:15
// Design Name:
// Module Name: main.cpp
// Project Name:
// Target Devices:
// Tool Versions:
// Description:
//
// Dependencies:
//
// Revision: 0.01
// Revision 0.01 - File Created
// Additional Comments:
//          1. path = D:/demo rather than D:/demo/
//////////////////////////////////////////////////////////////////////////////////

// =======================================================
// head file

void main()
{
    // --------------------------------------------------
    // note minutia
}
// ========================================================
// note section

```
* h文件
```cpp
// =======================================================
// head file
class mainwindown : public QMainWindow 
{
    // ----------------------------------------------------
    // 
}

```

---

## 3  PS-ARM设计规范
### 3.1  工程布局
| 一级目录 | 二级目录 | 三级目录 | 说明 | 
| --- | --- | --- | --- |
| 工程名xxx_demo | | | 工程所处的设计阶段 | 
| | xxx | | ARM工程所在目录 | 
| | | Debug | 调试程序操作目录 | 
| | | src | 所有的用户源代码 | 
| | xxx.datas | | 测试优化所记录的数据 | 
| | xxx.rules | | 设计原理及实现方法的记录 | 
| | xxx.packs | | 提取的可调用的封装函数 |
| | xxx.boots | | 可下载的发布文件 |  

### 3.2  主要语言规范-C
* c文件
```c 
//////////////////////////////////////////////////////////////////////////////////
// Company: Fpga Publish
// Engineer: F 
// 
// Create Date: 2023/07/03 22:53:48
// Design Name: 
// Module Name: net_subs
// Project Name: 
// Target Devices: ZYNQ7010 & XAUG
// Tool Versions: vitis 2022.2 || vitis 2021.1
// Description: 
// 
// Dependencies: 
// 
// Revision: 0.01 
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////

// =======================================================
// head file

void main()
{
    // --------------------------------------------------
    // note minutia
    
}
// ========================================================
// note section

```
* h文件
```c 
// ======================================================
// head file 


// ======================================================
// function

// ----------------------------------------------
// function 1


```


---

## 4  PL-FPGA设计规范
### 4.1  工程布局
| 一级目录 | 二级目录 | 三级目录 | 说明 | 
| --- | --- | --- | --- |
| 工程名xxx_demo | | | 工程所处的设计阶段 | 
| | xxx.srcs | | vivado包括仿真和设计的所有源文件 | 
| | xxx.datas | | 测试优化所记录的数据 | 
| | xxx.rules | | 设计原理及实现方法的记录 | 
| | xxx.packs | | 当前工程封装好的IP |
| | xxx.boots | | 可下载的硬件配置文件 |  
| | xxx.cores | | 当前工程调用的IP | 

### 4.2  主要语言规范-V
```v 
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 2023/02/12 16:47:15
// Design Name: 
// Module Name: sccb_prtc
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////
// ========================================================
// localparam to converation and calculate

// -------------------------------------------------------
// param class

```


---

## 5  变量统一命名
### 5.1  常量
* 全部大写，表明不随程序运行发生变化
* 包括了常数、宏定义、常数函数
* 不控制长度，尽可能使用全称

### 5.2  变量
* 全部小写，表明可以发生变化
* 包括各种数据、类、信号、槽、模块、程序、结构体、函数
* 控制长度，需要和同含义的变量保持等长，方便批量复制连接
* 常见的构型如下
    * r_shk_thres_mdata
        * r_: 前缀，表明属性，常有w-线、v-值、u-例化，可以省略
        * shk：总线，所属的大类，可省略 
        * thres： 名称，变量的主题名称，不可省略
        * mdata： 别称，变量在大类中所属的别称
    * 上述四个除了名称可以拓展，其他全部限定使用\w字符
* 变量的严格程度随所属的层次而逐步提高
    * 如果是只作用于本次操作，可以使用i、j这样的单字母
    * 如果需要传递到其他的模块
    * 则必须表明类名
    * 如果需要批量传输到其他的类
    * 则必须全部具备
* 以上的编程语言都需要人为判断变量的作用范围
    * 脚本语言和TCL基本上都只在本文件作用
    * 参数通过脚本调用时传递
    * 所以不需要类名和别称
    * 不过属性有时还是需要添加的
> 速记：信号来自A路B车的前照灯
> 名称：s_a_b_fontlight 
> 层次：某类东西从某个通道的某个物体的某个部分发出，即：类型-大类-具体-部分
        
### 5.3 其他结构
* 一些有开发平台确定的结构
    * 例如QT自动生成的窗口
    * ARM生成的UDP框架
    * 这些代码不受规范约束
    * 直接在上面添加即可
    
### 5.4 规定的前缀含义
| 前缀 | 说明 |
| --- | --- | 
| u_  | 层次单元，用于描述当前的设计层次 |
| v_  | 变量，所有可被修改的量，用于控制 | 
| n_  | 数量，可以用于计算的量 | 
| c_  | 类或者结构体这类集合型的变量 | 
| r_  | 寄存器变量，多用于地址或者RTL级描述 | 
| w_  | 连接变量，多指代传递量 | 
| io_ | 输入量，多用于接口 | 
| m_  | 主机标志，多用于总线和具备强关联的变量 | 
| s_  | 从机标志，与主机量匹配使用 | 